<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Care Plan Pre-Assessment - Greensleeves Style</title>
  <style>
    /* ---------- Basic Page & Body Styles ---------- */
    body {
      margin: 0 auto;
      max-width: 800px;
      padding: 10px;
      font-family: Arial, sans-serif;
      color: #333;
      /* Use a subtle green background plus the ribbon in the top-right corner */
      background-color: #f7f9f4; /* a light greenish tint */
      background-image: url("https://i.ibb.co/tpQ4Yh49/Greensleeves-Care-Brand-Ribbon-scaled.webp");
      background-repeat: no-repeat;
      background-position: top right;
      background-size: 340px auto;
    }

    /* ---------- Header & Logo ---------- */
    .header-brand {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      border-bottom: 2px solid #8b9a73; /* a deeper green */
      padding-bottom: 1rem;
    }
    .header-brand img {
      width: 90px;
      height: auto;
      margin-right: 1rem;
    }
    .header-brand h1 {
      font-size: 1.8rem;
      color: #546038; /* darker green for text */
      margin: 0;
    }

    /* ---------- Multi-Step Form Container ---------- */
    .form-step {
      display: none;
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin: 1rem 0;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .form-step.active {
      display: block;
    }

    /* ---------- Labels & Inputs ---------- */
    label {
      display: block;
      margin: 1rem 0 0.25rem;
      font-weight: bold;
    }
    small {
      display: block;
      font-weight: normal;
      color: #555;
      margin-top: 0.1rem;
      margin-bottom: 0.5rem;
    }
    input[type="text"],
    input[type="date"],
    input[type="number"],
    textarea {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 0.8rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      box-sizing: border-box;
    }
    input[type="checkbox"] {
      margin-right: 0.5rem;
    }
    /* read-only fields for Age & BMI */
    #age,
    #bmiScore {
      background-color: #f2f2f2;
    }

    /* ---------- Buttons ---------- */
    .btn-container {
      text-align: center;
      margin: 1rem 0;
    }
    .btn-nav {
      cursor: pointer;
      padding: 0.6rem 1.2rem;
      margin: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      background-color: #8b9a73; /* Greensleeves-inspired green */
      color: #fff;
    }
    .btn-nav:hover {
      background-color: #6f7f58;
    }

    /* ---------- Summary Textarea ---------- */
    #summary {
      width: 100%;
      min-height: 150px;
      margin-top: 1rem;
    }

    /* ---------- Responsive ---------- */
    @media (max-width: 600px) {
      body {
        padding: 8px;
      }
      .header-brand {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-brand img {
        margin-bottom: 1rem;
      }
      button {
        width: 100%;
        margin-top: 0.5rem;
      }
    }
  </style>
</head>
<body>

  <!-- ========== Greensleeves Logo & Title ========== -->
  <div class="header-brand">
    <img 
      src="https://i.ibb.co/HL44C8Tw/greensleeves-thumbnail-logo-png-120x120-q50-ALIAS-brand-icon-crop-progressive-subsampling-2-upscale.jpg" 
      alt="Greensleeves Care Logo"
    />
    <h1>Care Plan Pre-Assessment</h1>
  </div>

  <form id="assessmentForm">
    <!-- ================= STEP 1: GENERAL INFORMATION ================= -->
    <div class="form-step active" id="step-1">
      <h2>Step 1: General Information</h2>
      <label for="title">Title</label>
      <small>e.g., Mr, Mrs, Ms, Dr</small>
      <input type="text" id="title" name="title" placeholder="Mr/Mrs/Ms/Dr">

      <label for="firstName">First Name</label>
      <small>Try using the resident’s preferred name if they have one.</small>
      <input type="text" id="firstName" name="firstName" placeholder="e.g., John">

      <label for="lastName">Last Name</label>
      <input type="text" id="lastName" name="lastName" placeholder="e.g., Smith">

      <label for="preferredName">Preferred Name</label>
      <small>e.g., “Johnny” or “Liz” — use correct pronouns (he/him, she/her, they/them).</small>
      <input type="text" id="preferredName" name="preferredName" placeholder="Johnny">

      <label for="sexAtBirth">Sex at Birth</label>
      <input type="text" id="sexAtBirth" name="sexAtBirth" placeholder="Male/Female">

      <label for="genderIdentity">Gender Identity</label>
      <input type="text" id="genderIdentity" name="genderIdentity" placeholder="Man/Woman/etc.">

      <label for="dob">Date of Birth</label>
      <input type="date" id="dob" name="dob">

      <label for="age">Age (Auto-calc)</label>
      <input type="text" id="age" name="age" placeholder="Will calculate from DOB" readonly>

      <label for="residentPhone">Resident’s Phone Number</label>
      <input type="text" id="residentPhone" name="residentPhone" placeholder="07123 456789">

      <label for="residentEmail">Resident’s Email</label>
      <input type="text" id="residentEmail" name="residentEmail" placeholder="example@domain.com">

      <label for="nhsNumber">NHS/CHI Number</label>
      <input type="text" id="nhsNumber" name="nhsNumber" placeholder="123-456-7890...">

      <label for="integrationId">Integration ID</label>
      <small>Auto-generated or manually entered. Signpost location if needed.</small>
      <input type="text" id="integrationId" name="integrationId">

      <label>
        <input type="checkbox" id="dnacpr" name="dnacpr"> DNACPR in Place?
      </label>
      <label>
        <input type="checkbox" id="dols" name="dols"> Deprivation of Liberty Safeguards (DoLS) in Place?
      </label>
      <label>
        <input type="checkbox" id="covid19" name="covid19"> Treating as COVID-19?
      </label>

      <div class="btn-container">
        <button type="button" class="btn-nav" id="nextBtn1">Next</button>
      </div>
    </div>

    <!-- ================= STEP 2, 3, ... 9 omitted for brevity - same content as before ========== -->
    <!-- (Paste your existing Step 2 - Step 9 code here, unchanged, except we keep the same style.) -->

    <!-- ================= We'll show just one more step for clarity, then final step ========== -->
    <div class="form-step" id="step-5">
      <h2>Step 5: Clinical Information</h2>
      <label for="allergies">Allergies &amp; Intolerances</label>
      <small>Avoid “none” unless truly applicable. e.g., Allergic to penicillin, lactose intolerance.</small>
      <textarea id="allergies" name="allergies" rows="3"></textarea>

      <label for="dietaryPreferences">Dietary Preferences &amp; Nutrition Needs</label>
      <small>
        e.g., Vegetarian, Halal, Low-Salt.  
        If bed-bound, note that they should sit upright at 90° for feeding.
      </small>
      <textarea id="dietaryPreferences" name="dietaryPreferences" rows="3"></textarea>

      <!-- ... More fields ... -->

      <label for="currentWeight">Current Weight (kg)</label>
      <input type="number" id="currentWeight" name="currentWeight" step="0.1" placeholder="e.g., 70.5">

      <label for="currentHeight">Current Height (m)</label>
      <input type="number" id="currentHeight" name="currentHeight" step="0.01" placeholder="e.g., 1.75">

      <label for="bmiScore">BMI Score (Auto-calc)</label>
      <input type="text" id="bmiScore" name="bmiScore" placeholder="Auto-calc" readonly>

      <!-- ... More fields ... -->

      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn5">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn5">Next</button>
      </div>
    </div>

    <!-- ================= Step 9: Staff Sign-Off & Summary (Final) ================= -->
    <!-- (Make sure you include the final PDF generation code, etc.) -->
  </form>

  <!-- ========== jsPDF ========== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <!-- ========== Script for Steps, Auto-Calc & PDF ========== -->
  <script>
    /* The same JavaScript from your combined code:
       - Step navigation
       - Automatic Age from DOB
       - Automatic BMI from Weight & Height
       - PDF generation with teal header
    */
  </script>
</body>
</html>
