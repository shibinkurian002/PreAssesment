<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Care Plan Pre-Assessment (Multi-Step)</title>
  <style>
    /* ---------- Basic Page & Body Styles ---------- */
    body {
      margin: 0 auto;
      max-width: 800px;
      padding: 10px;
      font-family: Arial, sans-serif;
      color: #333;
      /* Base desktop font size: 18px for better readability */
      font-size: 18px;

      /* Light background plus the ribbon image in the bottom-left corner */
      background-color: #f7f9f4; /* Light greenish tint */
      background-image: url("https://i.ibb.co/tpQ4Yh49/Greensleeves-Care-Brand-Ribbon-scaled.webp");
      background-repeat: no-repeat;
      background-position: bottom left;
      background-size: 300px auto;
    }

    /* ---------- Header & Logo ---------- */
    .header-brand {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      border-bottom: 2px solid #8b9a73;
      padding-bottom: 1rem;
    }
    .header-brand img {
      width: 90px;
      height: auto;
      margin-right: 1rem;
    }
    .header-brand h1 {
      font-size: 1.8rem; /* Larger heading text */
      color: #546038;
      margin: 0;
    }

    /* ---------- Multi-Step Form Steps ---------- */
    .form-step {
      display: none;
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin: 1rem 0;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .form-step.active {
      display: block;
    }
    .form-step h2 {
      font-size: 1.4rem; /* Larger subheading text */
      margin-top: 0;
    }

    /* ---------- Labels & Inputs ---------- */
    label {
      display: block;
      margin: 1rem 0 0.25rem;
      font-weight: bold;
      font-size: 1rem; /* Slightly larger label text */
    }
    small {
      display: block;
      font-weight: normal;
      color: #555;
      margin-top: 0.1rem;
      margin-bottom: 0.5rem;
      font-size: 0.95rem; /* Keep small text, but slightly bigger than default */
    }
    input[type="text"],
    input[type="date"],
    input[type="number"],
    textarea {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 0.8rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      box-sizing: border-box;
    }
    input[type="checkbox"] {
      margin-right: 0.5rem;
      transform: scale(1.2); /* Make checkboxes a bit bigger if you wish */
    }
    /* read-only fields for Age & BMI so users can't overwrite them */
    #age,
    #bmiScore {
      background-color: #f2f2f2;
    }

    /* ---------- Buttons ---------- */
    .btn-container {
      text-align: center;
      margin: 1rem 0;
    }
    .btn-nav {
      cursor: pointer;
      padding: 0.7rem 1.4rem;
      margin: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 4px;
      background-color: #8b9a73; 
      color: #fff;
    }
    .btn-nav:hover {
      background-color: #6f7f58;
    }

    /* ---------- Summary Textarea ---------- */
    #summary {
      width: 100%;
      min-height: 150px;
      margin-top: 1rem;
      font-size: 1rem;
    }

    /* ---------- Responsive for Mobile (<600px) ---------- */
    @media (max-width: 600px) {
      body {
        padding: 8px;
        /* Slightly smaller font on very small screens to prevent overflow */
        font-size: 16px;
      }
      .header-brand {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-brand img {
        margin-bottom: 1rem;
      }
      .header-brand h1 {
        font-size: 1.6rem; 
      }
      .form-step h2 {
        font-size: 1.3rem;
      }
      button {
        width: 100%;
        margin-top: 0.5rem;
      }
    }
  </style>
</head>
<body>

  <!-- ========== Greensleeves Logo & Title ========== -->
  <div class="header-brand">
    <img 
      src="https://i.ibb.co/HL44C8Tw/greensleeves-thumbnail-logo-png-120x120-q50-ALIAS-brand-icon-crop-progressive-subsampling-2-upscale.jpg" 
      alt="Greensleeves Care Logo"
    />
    <h1>Care Plan Pre-Assessment</h1>
  </div>

  <form id="assessmentForm">
    <!-- ================= STEP 1: GENERAL INFORMATION ================= -->
    <div class="form-step active" id="step-1">
      <h2>Step 1: General Information</h2>
      <label for="title">Title</label>
      <small>e.g., Mr, Mrs, Ms, Dr</small>
      <input type="text" id="title" name="title" placeholder="Mr/Mrs/Ms/Dr">

      <label for="firstName">First Name</label>
      <small>Try using the resident’s preferred name if they have one.</small>
      <input type="text" id="firstName" name="firstName" placeholder="e.g., John">

      <label for="lastName">Last Name</label>
      <input type="text" id="lastName" name="lastName" placeholder="e.g., Smith">

      <label for="preferredName">Preferred Name</label>
      <small>e.g., “Johnny” or “Liz.” Use correct pronouns (he/him, she/her, they/them).</small>
      <input type="text" id="preferredName" name="preferredName" placeholder="Johnny">

      <label for="sexAtBirth">Sex at Birth</label>
      <input type="text" id="sexAtBirth" name="sexAtBirth" placeholder="Male/Female">

      <label for="genderIdentity">Gender Identity</label>
      <input type="text" id="genderIdentity" name="genderIdentity" placeholder="Man/Woman/etc.">

      <label for="dob">Date of Birth</label>
      <input type="date" id="dob" name="dob">

      <label for="age">Age (Auto-calc)</label>
      <input type="text" id="age" name="age" readonly placeholder="Will calculate from DOB">

      <label for="residentPhone">Resident’s Phone Number</label>
      <input type="text" id="residentPhone" name="residentPhone" placeholder="07123 456789">

      <label for="residentEmail">Resident’s Email</label>
      <input type="text" id="residentEmail" name="residentEmail" placeholder="example@domain.com">

      <label for="nhsNumber">NHS/CHI Number</label>
      <input type="text" id="nhsNumber" name="nhsNumber" placeholder="123-456-7890...">

      <label for="integrationId">Integration ID</label>
      <small>Auto-generated or manually entered. Signpost location if needed.</small>
      <input type="text" id="integrationId" name="integrationId">

      <label>
        <input type="checkbox" id="dnacpr" name="dnacpr"> DNACPR in Place?
      </label>
      <label>
        <input type="checkbox" id="dols" name="dols"> Deprivation of Liberty Safeguards (DoLS) in Place?
      </label>
      <label>
        <input type="checkbox" id="covid19" name="covid19"> Treating as COVID-19?
      </label>

      <div class="btn-container">
        <button type="button" class="btn-nav" id="nextBtn1">Next</button>
      </div>
    </div>

    <!-- ================= STEP 2: BIOGRAPHY & QUICK NOTES ================= -->
    <div class="form-step" id="step-2">
      <h2>Step 2: Biography & Quick Notes</h2>
      <label for="biography">Biography</label>
      <small>
        Provide a brief account of the resident’s life: past, present, interests, family, relationships, career, religious beliefs.
        Do not include medical information.
      </small>
      <textarea id="biography" name="biography" rows="4" placeholder="e.g., Born in..., loves knitting, reading..."></textarea>

      <label for="quickNotes">General Quick Notes</label>
      <small>Short immediate observations or personal preferences (non-medical if possible).</small>
      <textarea id="quickNotes" name="quickNotes" rows="3"></textarea>

      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn2">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn2">Next</button>
      </div>
    </div>

    <!-- ================= STEP 3: CIRCLE OF CARE ================= -->
    <div class="form-step" id="step-3">
      <h2>Step 3: Circle of Care</h2>
      <label for="nokFullName">Next of Kin Full Name</label>
      <input type="text" id="nokFullName" name="nokFullName" placeholder="e.g., Jane Doe">

      <label for="nokRelationship">Relationship</label>
      <small>e.g., Daughter, Son, Best Friend</small>
      <input type="text" id="nokRelationship" name="nokRelationship" placeholder="Daughter">

      <label for="nokPhone">Phone Number</label>
      <input type="text" id="nokPhone" name="nokPhone" placeholder="07123 456789">

      <label>
        <input type="checkbox" id="poaHealth" name="poaHealth"> Power of Attorney for Health?
      </label>
      <label>
        <input type="checkbox" id="poaFinance" name="poaFinance"> Power of Attorney for Finance?
      </label>

      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn3">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn3">Next</button>
      </div>
    </div>

    <!-- ================= STEP 4: ONBOARDING & NEEDS ASSESSMENT ================= -->
    <div class="form-step" id="step-4">
      <h2>Step 4: Onboarding & Needs Assessment</h2>
      <label for="dateAdmission">Date of Admission</label>
      <input type="date" id="dateAdmission" name="dateAdmission">

      <label for="admittedFrom">Admitted From</label>
      <small>e.g., Hospital, Home, Another Care Facility</small>
      <input type="text" id="admittedFrom" name="admittedFrom" placeholder="Local Hospital...">

      <label for="fundingSource">Funding Source</label>
      <small>e.g., NHS, Private, Local Authority</small>
      <input type="text" id="fundingSource" name="fundingSource" placeholder="NHS/Private...">

      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn4">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn4">Next</button>
      </div>
    </div>

    <!-- ================= STEP 5: CLINICAL INFORMATION ================= -->
    <div class="form-step" id="step-5">
      <h2>Step 5: Clinical Information</h2>
      <label for="allergies">Allergies &amp; Intolerances</label>
      <small>Avoid “none” unless truly applicable. E.g., Allergic to penicillin, lactose intolerance.</small>
      <textarea id="allergies" name="allergies" rows="3"></textarea>

      <label for="dietaryPreferences">Dietary Preferences &amp; Nutrition Needs</label>
      <small>E.g., Vegetarian, Halal, Low-Salt. If bed-bound, note 90° posture for feeding.</small>
      <textarea id="dietaryPreferences" name="dietaryPreferences" rows="3"></textarea>

      <label for="emergencyInfo">Emergency Information &amp; Admission Decision</label>
      <small>Who makes medical decisions in emergencies? How to notify next of kin?</small>
      <textarea id="emergencyInfo" name="emergencyInfo" rows="3"></textarea>

      <label for="clinicalHistory">Clinical History &amp; Medical Conditions</label>
      <small>List diagnoses, relevant treatments. e.g. Diabetes, Epilepsy, Parkinson’s, etc.</small>
      <textarea id="clinicalHistory" name="clinicalHistory" rows="3"></textarea>

      <label for="medicationList">Medication List</label>
      <small>Type of medication, side effects, any food/drink to avoid. e.g. “Crushed with applesauce.”</small>
      <textarea id="medicationList" name="medicationList" rows="3"></textarea>

      <h3>Malnutrition Universal Screening Tool (MUST)</h3>
      <label for="currentWeight">Current Weight (kg)</label>
      <input type="number" id="currentWeight" name="currentWeight" step="0.1" placeholder="e.g., 70.5">

      <label for="currentHeight">Current Height (m)</label>
      <input type="number" id="currentHeight" name="currentHeight" step="0.01" placeholder="e.g., 1.75">

      <label for="bmiScore">BMI Score (Auto-calc)</label>
      <input type="text" id="bmiScore" name="bmiScore" placeholder="Auto-calc" readonly>

      <label for="weightLoss">Weight Loss in Past 3-6 Months (%)</label>
      <input type="number" id="weightLoss" name="weightLoss" step="0.1" placeholder="e.g., 5.0">

      <label for="mustScore">Overall MUST Score</label>
      <small>Evaluate risk: Low, Medium, High</small>
      <input type="text" id="mustScore" name="mustScore" placeholder="e.g., 1 (low risk)">

      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn5">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn5">Next</button>
      </div>
    </div>

    <!-- ================= STEP 6: MANDATORY CARE PLAN SECTIONS ================= -->
    <div class="form-step" id="step-6">
      <h2>Step 6: Mandatory Care Plan Sections</h2>
      <!-- ... fields as before ... -->
      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn6">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn6">Next</button>
      </div>
    </div>

    <!-- ================= STEP 7: SPECIALIST CARE PLANS (If Any) ================= -->
    <div class="form-step" id="step-7">
      <h2>Step 7: Specialist Care Plans (If Applicable)</h2>
      <!-- ... fields as before ... -->
      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn7">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn7">Next</button>
      </div>
    </div>

    <!-- ================= STEP 8: FOOT CARE ASSESSMENT ================= -->
    <div class="form-step" id="step-8">
      <h2>Step 8: Foot Care Assessment</h2>
      <!-- ... fields as before ... -->
      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn8">Previous</button>
        <button type="button" class="btn-nav" id="nextBtn8">Next</button>
      </div>
    </div>

    <!-- ================= STEP 9: STAFF SIGN-OFF & SUMMARY ================= -->
    <div class="form-step" id="step-9">
      <h2>Step 9: Staff Sign-Off</h2>
      <!-- ... final fields, plus summary ... -->
      <div class="btn-container">
        <button type="button" class="btn-nav" id="prevBtn9">Previous</button>
        <button type="button" id="generateSummaryBtn" class="btn-nav">Generate Summary</button>
        <button type="button" id="downloadPdfBtn" class="btn-nav">Download PDF</button>
      </div>

      <label for="summary">Pre-Assessment Summary</label>
      <textarea id="summary" readonly></textarea>
    </div>
  </form>

  <!-- ========== jsPDF ========== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    /* ================= STEP NAVIGATION (SAME LOGIC) ================= */
    /* (Include the next/prev logic for each step) */

    /* ================= AUTO-CALCULATE AGE & BMI (SAME LOGIC) ================= */
    /* (dobField, ageField, weightField, heightField, recalc) */

    /* ================= SUMMARY & PDF GENERATION (SAME LOGIC) ================= */
    /* (Generate summary, styled PDF with teal header, etc.) */
  </script>
</body>
</html>
